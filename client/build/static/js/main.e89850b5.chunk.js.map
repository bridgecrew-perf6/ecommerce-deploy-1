{"version":3,"sources":["components/headers/icon/menu.svg","components/headers/icon/close.svg","components/headers/icon/cart.svg","components/mainpages/utils/config.js","api/ProductsAPI.js","api/UserAPI.js","api/CategoriesAPI.js","GlobalState.js","components/headers/Header.js","components/mainpages/utils/productItem/BtnRender.js","components/mainpages/utils/productItem/ProductItem.js","components/mainpages/utils/loading/Loading.js","components/mainpages/products/Filters.js","components/mainpages/products/LoadMore.js","components/mainpages/products/Products.js","components/mainpages/detailProduct/DetailProduct.js","components/mainpages/auth/Login.js","components/mainpages/auth/Register.js","components/mainpages/history/OrderHistory.js","components/mainpages/history/OrderDetails.js","components/mainpages/cart/PaypalButton.js","components/mainpages/cart/Cart.js","components/mainpages/utils/not_found/NotFound.js","components/mainpages/categories/Categories.js","components/mainpages/createProduct/CreateProduct.js","components/mainpages/userDetail/UserDetail.js","components/mainpages/Pages.js","App.js","index.js"],"names":["module","exports","API_URL","ProductsAPI","useState","products","setProducts","callback","setCallback","category","setCategory","sort","setSort","search","setSearch","page","setPage","result","setResult","useEffect","a","axios","get","res","data","getProducts","UserAPI","token","isLogged","setIsLogged","isAdmin","setIsAdmin","cart","setCart","user","setUser","history","setHistory","bearerTk","headers","Authorization","role","alert","getUser","addCart","product","console","log","every","item","product_id","quantity","patch","CategoriesAPI","categories","setCategories","getCategories","GlobalState","createContext","DataProvider","children","setToken","localStorage","getItem","refreshToken","credentials","accesstoken","setTimeout","state","productsAPI","userAPI","categoriesAPI","Provider","value","Header","useContext","menu","setMenu","logoutUser","removeItem","window","location","href","styleMenu","left","className","onClick","src","Menu","alt","width","to","style","Close","length","Cart","BtnRender","deleteProduct","id","_id","images","public_id","ProductItem","handleCheck","type","checked","onChange","url","title","price","description","Loading","background","color","top","zIndex","height","viewBox","stroke","strokeWidth","fill","points","x","y","Filters","name","e","target","map","key","placeholder","toLowerCase","LoadMore","Products","loading","setLoading","isCheck","setIsCheck","forEach","destroyImg","post","delete","response","msg","DetailProduct","params","useParams","detailProduct","setDetailProduct","content","sold","Login","email","password","onChangeInput","loginSubmit","preventDefault","withCredentials","setItem","message","onSubmit","required","autoComplete","Register","registerSubmit","phoneNumber","confirmPassword","OrderHistory","getHistory","items","paymentID","Date","created_at","toLocaleDateString","OrderDetails","orderDetails","setOrderDetails","address","margin","PaypalButton","total","this","props","env","client","sandbox","production","currency","onError","err","onSuccess","payment","tranSuccess","onCancel","size","shape","label","tagline","React","Component","setTotal","reduce","prev","getTotal","addToCart","textAlign","fontSize","confirm","index","splice","NotFound","Categories","onEdit","setOnEdit","setID","createCategory","put","editCategory","deleteCategory","htmlFor","initialState","CreateProduct","setProduct","setImages","useHistory","param","toString","handleUpload","file","files","formData","FormData","append","handleDestroy","handleChangeInput","handleSubmit","push","styleUpload","display","disabled","rows","UserDetail","updateSubmit","changPasswordSubmit","oldPassword","newPassword","Pages","path","exact","component","App","defaults","xsrfCookieName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e89850b5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/menu.b3f49afd.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.2c5552a1.svg\";","module.exports = __webpack_public_path__ + \"static/media/cart.8bf1af37.svg\";","export const API_URL = \"https://qtshop-ecommerce.herokuapp.com\";\r\n// export const API_URL = \"http://localhost:5000\";","import {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport { API_URL } from '../components/mainpages/utils/config'\n\n\nfunction ProductsAPI() {\n    const [products, setProducts] = useState([])\n    const [callback, setCallback] = useState(false)\n    const [category, setCategory] = useState('')\n    const [sort, setSort] = useState('')\n    const [search, setSearch] = useState('')\n    const [page, setPage] = useState(1)\n    const [result, setResult] = useState(0)\n\n    useEffect(() =>{\n        const getProducts = async () => {\n\n            const res = await axios.get(`${API_URL}/api/products/?${sort}&page=${page}&limit=${9*page}&title=${search}&${category}`)\n            \n            setProducts(res.data.products)\n            setResult(res.data.result)\n        }\n        getProducts()\n    },[callback, category, sort, search, page])\n    \n    return {\n        products: [products, setProducts],\n        callback: [callback, setCallback],\n        category: [category, setCategory],\n        sort: [sort, setSort],\n        search: [search, setSearch],\n        page: [page, setPage],\n        result: [result, setResult]\n    }\n}\n\nexport default ProductsAPI\n","import {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport { API_URL } from '../components/mainpages/utils/config'\r\n\r\nfunction UserAPI(token) {\r\n    const [isLogged, setIsLogged] = useState(false)\r\n    const [isAdmin, setIsAdmin] = useState(false)\r\n    const [cart, setCart] = useState([])\r\n    const [user,setUser] = useState({})\r\n    const [history, setHistory] = useState([])\r\n\r\n    useEffect(() =>{\r\n        if(token){\r\n            const getUser = async () =>{\r\n                try {\r\n                    const bearerTk = 'Bearer '+token;\r\n                    const res = await axios.get(`${API_URL}/user/infor`, {\r\n                        headers: {Authorization: bearerTk}\r\n                    })\r\n\r\n                    setIsLogged(true)\r\n                    res.data.role === 2 ? setIsAdmin(true) : setIsAdmin(false)\r\n                    setCart(res.data.cart)\r\n                    setUser(res.data)\r\n\r\n                } catch (err) {\r\n                    alert(err)\r\n                }\r\n            }\r\n\r\n            getUser()\r\n            \r\n        }\r\n    },[token])\r\n\r\n    \r\n\r\n    const addCart = async (product) => {\r\n        if(!isLogged) return alert(\"Please login to continue buying\");\r\n        \r\n        console.log('cart:',cart)\r\n        const check = cart.every(item =>{\r\n            console.log(item);\r\n            return (item.product_id) !== (product.product_id);\r\n        })\r\n\r\n        if(check){\r\n            setCart([...cart, {...product, quantity: 1}])\r\n\r\n            const bearerTk = 'Bearer '+token;\r\n            await axios.patch(`${API_URL}/user/addcart`, {cart: [...cart, {...product, quantity: 1}]}, {\r\n                headers: {Authorization: bearerTk}\r\n            })\r\n\r\n        }else{\r\n            alert(\"This product has been added to cart.\")\r\n        }\r\n    }\r\n\r\n    return {\r\n        isLogged: [isLogged, setIsLogged],\r\n        isAdmin: [isAdmin, setIsAdmin],\r\n        cart: [cart, setCart],\r\n        user:[user,setUser],\r\n        addCart: addCart,\r\n        history: [history, setHistory]\r\n    }\r\n}\r\n\r\nexport default UserAPI\r\n ","import {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport { API_URL } from '../components/mainpages/utils/config'\n\nfunction CategoriesAPI() {\n    const [categories, setCategories] = useState([])\n    const [callback, setCallback] = useState(false)\n\n    useEffect(() =>{\n        const getCategories = async () =>{\n            const res = await axios.get(`${API_URL}/api/category`)\n            setCategories(res.data)\n        }\n\n        getCategories()\n    },[callback])\n    return {\n        categories: [categories, setCategories],\n        callback: [callback, setCallback]\n    }\n}\n\nexport default CategoriesAPI\n","import React, {createContext, useState, useEffect} from 'react'\r\nimport ProductsAPI from './api/ProductsAPI'\r\nimport UserAPI from './api/UserAPI'\r\nimport CategoriesAPI from './api/CategoriesAPI'\r\n\r\nimport axios from 'axios'\r\nimport { API_URL } from './components/mainpages/utils/config'\r\n\r\nexport const GlobalState = createContext()\r\n\r\n\r\nexport const DataProvider = ({children}) =>{\r\n    const [token, setToken] = useState(false)\r\n\r\n\r\n    useEffect(() =>{\r\n        const firstLogin = localStorage.getItem('firstLogin')\r\n        if(firstLogin){\r\n            const refreshToken = async () =>{\r\n                const res = await axios.get(`${API_URL}/auth/refresh_token`,{credentials:'include'})\r\n                console.log(res)\r\n                setToken(res.data.accesstoken)\r\n    \r\n                setTimeout(() => {\r\n                    refreshToken()\r\n                }, 10 * 60 * 1000)\r\n            }\r\n            refreshToken()\r\n        }\r\n    },[])\r\n\r\n\r\n    \r\n    const state = {\r\n        token: [token, setToken],\r\n        productsAPI: ProductsAPI(),\r\n        userAPI: UserAPI(token),\r\n        categoriesAPI: CategoriesAPI()\r\n    }\r\n\r\n    return (\r\n        <GlobalState.Provider value={state}>\r\n            {children}\r\n        </GlobalState.Provider>\r\n    )\r\n}","import React, {useContext, useState} from 'react'\nimport {GlobalState} from '../../GlobalState'\nimport Menu from './icon/menu.svg'\nimport Close from './icon/close.svg'\nimport Cart from './icon/cart.svg'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\nimport { API_URL } from '../mainpages/utils/config'\n\nfunction Header() {\n    const state = useContext(GlobalState)\n    const [isLogged] = state.userAPI.isLogged\n    const [isAdmin] = state.userAPI.isAdmin\n    const [cart] = state.userAPI.cart\n    const [menu, setMenu] = useState(false)\n\n\n    const logoutUser = async () =>{\n        await axios.get(`${API_URL}/auth/logout`)\n        \n        localStorage.removeItem('firstLogin')\n        \n        window.location.href = \"/\";\n    }\n\n    const adminRouter = () =>{\n        return(\n            <>\n                <li><Link to=\"/create_product\">Create Product</Link></li>\n                <li><Link to=\"/category\">Categories</Link></li>\n            </>\n        )\n    }\n\n    const loggedRouter = () =>{\n        return(\n            <>\n                <li><Link to=\"/history\">History</Link></li>\n                <li><Link to={`/profile`}>Profile</Link></li>\n                <li><Link to=\"/\" onClick={logoutUser}>Logout</Link></li>\n            </>\n        )\n    }\n\n\n    const styleMenu = {\n        left: menu ? 0 : \"-100%\"\n    }\n\n    return (\n        <header>\n            <div className=\"menu\" onClick={() => setMenu(!menu)}>\n                <img src={Menu} alt=\"\" width=\"30\" />\n            </div>\n\n            <div className=\"logo\">\n                <h1>\n                    <Link to=\"/\">{isAdmin ? 'Admin' : 'QT STORE'}</Link>\n                </h1>\n            </div>\n\n            <ul style={styleMenu}>\n                <li><Link to=\"/\">{isAdmin ? 'Products' : 'Shop'}</Link></li>\n\n                {isAdmin && adminRouter()}\n\n                {\n                    isLogged ? loggedRouter() : <li><Link to=\"/login\">Login âœ¥ Register</Link></li>\n                }\n\n                <li onClick={() => setMenu(!menu)}>\n                    <img src={Close} alt=\"\" width=\"30\" className=\"menu\" />\n                </li>\n\n            </ul>\n\n            {\n                isAdmin ? '' \n                :(<div className=\"cart-icon\">\n                    <span>{cart.length}</span>\n                    <Link to=\"/cart\">\n                        <img src={Cart} alt=\"\" width=\"30\" />\n                    </Link>\n                </div>)\n            }\n            \n        </header>\n    )\n}\n\nexport default Header\n\n","import React, {useContext} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {GlobalState} from '../../../../GlobalState'\r\n\r\nfunction BtnRender({product, deleteProduct}) {\r\n    const state = useContext(GlobalState)\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const addCart = state.userAPI.addCart\r\n\r\n    \r\n    return (\r\n        <div className=\"row_btn\">\r\n            {\r\n                isAdmin ? \r\n                <>\r\n                    <Link id=\"btn_buy\" to=\"#!\" \r\n                    onClick={() =>deleteProduct(product._id, product.images.public_id)}>\r\n                        Delete\r\n                    </Link>\r\n                    <Link id=\"btn_view\" to={`/edit_product/${product._id}`}>\r\n                        Edit\r\n                    </Link>\r\n                </>\r\n                : <>\r\n                    <Link id=\"btn_buy\" to=\"#!\" onClick={() => addCart(product)}>\r\n                        Buy\r\n                    </Link>\r\n                    <Link id=\"btn_view\" to={`/detail/${product._id}`}>\r\n                        View\r\n                    </Link>\r\n                </>\r\n            }\r\n                \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BtnRender\r\n","import React from 'react'\r\nimport BtnRender from './BtnRender'\r\n\r\nfunction ProductItem({product, isAdmin, deleteProduct, handleCheck}) {\r\n\r\n    return (\r\n        <div className=\"product_card\">\r\n            {\r\n                isAdmin && <input type=\"checkbox\" checked={product.checked}\r\n                onChange={() => handleCheck(product._id)} />\r\n            }\r\n            <img src={product.images.url} alt=\"\" />\r\n\r\n            <div className=\"product_box\">\r\n                <h2 title={product.title}>{product.title}</h2>\r\n                <span>${product.price}</span>\r\n                <p>{product.description}</p>\r\n            </div>\r\n\r\n            \r\n            <BtnRender product={product} deleteProduct={deleteProduct} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductItem\r\n","import React from 'react'\nimport './loading.css'\n\nfunction Loading() {\n    return (\n        // <div className=\"load-page\">\n        //     <div className=\"loader\">\n        //         <div>\n        //             <div>\n        //                 <div>\n        //                     <div>\n        //                         <div>\n        //                             <div>\n        //                                 <div>\n        //                                     <div></div>\n        //                                 </div>\n        //                             </div>\n        //                         </div>\n        //                     </div>\n        //                 </div>\n        //             </div>\n        //         </div>\n        //     </div>\n        // </div>\n        <div className=\"position-fixed w-200 h-200 text-center loading\"\n    style={{background: '#0007', color: \"white\", top: 0, left: 0, zIndex: 99}}>\n      <svg width=\"205\" height=\"250\" viewBox=\"0 0 40 50\">\n        <polygon stroke=\"#fff\" strokeWidth=\"1\" fill=\"none\"\n        points=\"20,1 40,40 1,40\" />\n        <text fill=\"#fff\" x=\"5\" y=\"47\">Loading</text>\n      </svg>\n    </div>\n    )\n}\n\nexport default Loading\n","import React, {useContext} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\n\r\nfunction Filters() {\r\n    const state = useContext(GlobalState)\r\n    const [categories] = state.categoriesAPI.categories\r\n\r\n    const [category, setCategory] = state.productsAPI.category\r\n    const [sort, setSort] = state.productsAPI.sort\r\n    const [search, setSearch] = state.productsAPI.search\r\n\r\n\r\n    const handleCategory = e => {\r\n        setCategory(e.target.value)\r\n        setSearch('')\r\n    }\r\n\r\n    return (\r\n        <div className=\"filter_menu\">\r\n            <div className=\"row\">\r\n                <span>Filters: </span>\r\n                <select name=\"category\" value={category} onChange={handleCategory} >\r\n                    <option value=''>All Products</option>\r\n                    {\r\n                        categories.map(category => (\r\n                            <option value={\"category=\" + category._id} key={category._id}>\r\n                                {category.name}\r\n                            </option>\r\n                        ))\r\n                    }\r\n                </select>\r\n            </div>\r\n\r\n            <input type=\"text\" value={search} placeholder=\"Enter your search!\"\r\n            onChange={e => setSearch(e.target.value.toLowerCase())} />\r\n\r\n            <div className=\"row sort\">\r\n                <span>Sort By: </span>\r\n                <select value={sort} onChange={e => setSort(e.target.value)} >\r\n                    <option value='sort=-created_at'>Newest</option>\r\n                    <option value='sort=created_at'>Oldest</option>\r\n                    <option value='sort=-sold'>Best sales</option>\r\n                    <option value='sort=-price'>Price: Hight-Low</option>\r\n                    <option value='sort=price'>Price: Low-Hight</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filters\r\n","import React, {useContext} from 'react'\nimport {GlobalState} from '../../../GlobalState'\n\nfunction LoadMore() {\n    const state = useContext(GlobalState)\n    const [page, setPage] = state.productsAPI.page\n    const [result] = state.productsAPI.result\n\n    return (\n        <div className=\"load_more\">\n            {\n                result < page * 9 ? \"\"\n                : <button onClick={() => setPage(page+1)}>Load more</button>\n            }\n        </div>\n    )\n}\n\nexport default LoadMore\n","import React, {useContext, useState} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport ProductItem from '../utils/productItem/ProductItem'\r\nimport Loading from '../utils/loading/Loading'\r\nimport axios from 'axios'\r\nimport Filters from './Filters'\r\nimport LoadMore from './LoadMore'\r\nimport { API_URL } from '../utils/config'\r\n\r\n\r\nfunction Products() {\r\n    const state = useContext(GlobalState)\r\n    const [products, setProducts] = state.productsAPI.products\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [token] = state.token\r\n    const [callback, setCallback] = state.productsAPI.callback\r\n    const [loading, setLoading] = useState(false)\r\n    const [isCheck, setIsCheck] = useState(false)\r\n\r\n    const handleCheck = (id) =>{\r\n        products.forEach(product => {\r\n            if(product._id == id) product.checked = !product.checked\r\n        })\r\n        setProducts([...products])\r\n    }\r\n\r\n    const deleteProduct = async(id, public_id) => {\r\n        try {\r\n            setLoading(true)\r\n            const bearerTk = 'Bearer '+token;\r\n            const destroyImg = axios.post(`${API_URL}/api/destroy`, {public_id},{\r\n                headers: {Authorization: bearerTk}\r\n            })\r\n            const deleteProduct = axios.delete(`${API_URL}/api/products/${id}`, {\r\n                headers: {Authorization: bearerTk}\r\n            })\r\n\r\n            await destroyImg\r\n            await deleteProduct\r\n            setCallback(!callback)\r\n            setLoading(false)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const checkAll = () =>{\r\n        products.forEach(product => {\r\n            product.checked = !isCheck\r\n        })\r\n        setProducts([...products])\r\n        setIsCheck(!isCheck)\r\n    }\r\n\r\n    const deleteAll = () =>{\r\n        products.forEach(product => {\r\n            if(product.checked) deleteProduct(product._id, product.images.public_id)\r\n        })\r\n    }\r\n\r\n    if(loading) return <div><Loading /></div>\r\n    return (\r\n        <>\r\n        <Filters />\r\n        \r\n        {\r\n            isAdmin && \r\n            <div className=\"delete-all\">\r\n                <span>Select all</span>\r\n                <input type=\"checkbox\" checked={isCheck} onChange={checkAll} />\r\n                <button onClick={deleteAll}>Delete ALL</button>\r\n            </div>\r\n        }\r\n\r\n        <div className=\"products\">\r\n            {\r\n                products.map(product => {\r\n                    return <ProductItem key={product._id} product={product}\r\n                    isAdmin={isAdmin} deleteProduct={deleteProduct} handleCheck={handleCheck} />\r\n                })\r\n            } \r\n        </div>\r\n\r\n        <LoadMore />\r\n        {products.length === 0 && <Loading />}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Products\r\n","import React, {useContext, useState, useEffect} from 'react'\r\nimport {useParams, Link} from 'react-router-dom'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport ProductItem from '../utils/productItem/ProductItem'\r\n\r\n\r\nfunction DetailProduct() {\r\n    const params = useParams()\r\n    const state = useContext(GlobalState)\r\n    const [products] = state.productsAPI.products\r\n    const addCart = state.userAPI.addCart\r\n    const [detailProduct, setDetailProduct] = useState([])\r\n\r\n    // console.log(params);\r\n\r\n    useEffect(() =>{\r\n        if(params.id){\r\n\r\n            products.forEach(product => {\r\n                if(product._id == params.id) setDetailProduct(product)\r\n            })\r\n\r\n            // const product = products.find(product=>(product._id === Number(params.id)));\r\n            // setDetailProduct(product);\r\n        }\r\n    },[params.id, products])\r\n\r\n    //     return (\r\n    //     <div>\r\n    //         DetailProduct\r\n    //     </div>\r\n    // )\r\n    if(detailProduct.length === 0) return null;\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"detail\">\r\n                <img src={detailProduct.images.url} alt=\"\" />\r\n                <div className=\"box-detail\">\r\n                    <div className=\"row\">\r\n                        <h2>{detailProduct.title}</h2>\r\n                        <h6>#id: {detailProduct.product_id}</h6>\r\n                    </div>\r\n                    <span>$ {detailProduct.price}</span>\r\n                    <p>{detailProduct.description}</p>\r\n                    <p>{detailProduct.content}</p>\r\n                    <p>Sold: {detailProduct.sold}</p>\r\n                    <Link to=\"/cart\" className=\"cart\"\r\n                    onClick={() => addCart(detailProduct)}>\r\n                        Buy Now\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <h2>Related products</h2>\r\n                <div className=\"products\">\r\n                    {\r\n                        products.map(product => {\r\n                            return product.category.name === detailProduct.category.name \r\n                                ? <ProductItem key={product._id} product={product} /> : null\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DetailProduct\r\n","import React, {useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { API_URL } from '../utils/config'\r\n\r\nfunction Login() {\r\n    const [user, setUser] = useState({\r\n        email:'', password: ''\r\n    })\r\n\r\n    const onChangeInput = e =>{\r\n        const {name, value} = e.target;\r\n        setUser({...user, [name]:value})\r\n    }\r\n\r\n    const loginSubmit = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            await axios.post(`${API_URL}/auth/login`, {...user},{withCredentials:true})\r\n\r\n            localStorage.setItem('firstLogin', true)\r\n            \r\n            window.location.href = \"/\";\r\n        } catch (err) {\r\n            alert(err.response.data.message)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-page\">\r\n            <form onSubmit={loginSubmit}>\r\n                <h2>Login</h2>\r\n                <input type=\"email\" name=\"email\" required\r\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\r\n\r\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\r\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\r\n\r\n                <div className=\"row\">\r\n                    <button type=\"submit\">Login</button>\r\n                    <Link to=\"/register\">Register</Link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { API_URL } from '../utils/config'\r\n\r\nfunction Register() {\r\n    const [user, setUser] = useState({})\r\n\r\n    const onChangeInput = e => {\r\n        const { name, value } = e.target;\r\n        setUser({ ...user, [name]: value })\r\n    }\r\n\r\n    const registerSubmit = async e => {\r\n\r\n        e.preventDefault()\r\n        try {\r\n            await axios.post(`${API_URL}auth/register`, { ...user },{withCredentials:true})\r\n\r\n            localStorage.setItem('firstLogin', true)\r\n\r\n            alert(\"Your account is register, go to shop now.\")\r\n            window.location.href = \"/\";\r\n        } catch (err) {\r\n            alert(err.response.data.message)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-page\">\r\n            <form onSubmit={registerSubmit}>\r\n                <h2>Register</h2>\r\n                <input type=\"text\" name=\"name\" required\r\n                    placeholder=\"Name\" value={user.name} onChange={onChangeInput} />\r\n\r\n                <input type=\"email\" name=\"email\" required\r\n                    placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\r\n\r\n                <input type=\"text\" name=\"phoneNumber\" required\r\n                    placeholder=\"phone number\" value={user.phoneNumber} onChange={onChangeInput} />\r\n\r\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\r\n                    placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\r\n\r\n                <input type=\"password\" name=\"confirmPassword\" required autoComplete=\"on\"\r\n                    placeholder=\"Confirm Password\" value={user.confirmPassword} onChange={onChangeInput} />\r\n\r\n                <div className=\"row\">\r\n                    <button type=\"submit\">Register</button>\r\n                    <Link to=\"/login\">Login</Link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register","import React, {useContext, useEffect} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { API_URL } from '../utils/config'\r\n\r\nfunction OrderHistory() {\r\n    const state = useContext(GlobalState)\r\n    const [history, setHistory] = state.userAPI.history\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [token] = state.token\r\n    \r\n\r\n    useEffect(() => {\r\n        if(token){\r\n            const getHistory = async() =>{\r\n                if(isAdmin){\r\n                    const bearerTk = 'Bearer '+token;\r\n                    const res = await axios.get(`${API_URL}/api/payment`, {\r\n                        headers: {Authorization: bearerTk}\r\n                    })\r\n                    setHistory(res.data)\r\n                }else{\r\n                    const bearerTk = 'Bearer '+token;\r\n                    const res = await axios.get(`${API_URL}/user/history`, {\r\n                        headers: {Authorization: bearerTk}\r\n                    })\r\n                    setHistory(res.data)\r\n                }\r\n            }\r\n            getHistory()\r\n        }\r\n    },[token, isAdmin, setHistory])\r\n\r\n    console.log(history);\r\n    return (\r\n        <div className=\"history-page\">\r\n            <h2>History</h2>\r\n\r\n            <h4>You have {history.length} ordered</h4>\r\n\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Payment ID</th>\r\n                        <th>Date of Purchased</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        history.map(items => (\r\n                            <tr key={items._id}>\r\n                                <td>{items.paymentID}</td>\r\n                                <td>{new Date(items.created_at).toLocaleDateString()}</td>\r\n                                <td><Link to={`/history/${items._id}`}>View</Link></td>\r\n                            </tr>\r\n                        ))\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderHistory\r\n","import React, {useState, useEffect, useContext} from 'react'\r\nimport {useParams} from 'react-router-dom'\r\nimport {GlobalState} from '../../../GlobalState'\r\n\r\nfunction OrderDetails() {\r\n    const state = useContext(GlobalState)\r\n    const [history] = state.userAPI.history\r\n    const [orderDetails, setOrderDetails] = useState([])\r\n\r\n    const params = useParams()\r\n\r\n    useEffect(() => {\r\n        if(params.id){\r\n            history.forEach(item =>{\r\n                if(item._id == params.id) setOrderDetails(item)\r\n            })\r\n        }\r\n    },[params.id, history])\r\n\r\n    if(orderDetails.length === 0) return null;\r\n    console.log(orderDetails);\r\n    return (\r\n        <div className=\"history-page\">\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Address</th>\r\n                        <th>Email</th>\r\n                        <th>Phone</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>{orderDetails.user.name}</td>\r\n                        <td>{orderDetails.address}</td>\r\n                        <td>{orderDetails.user.email}</td>\r\n                        <td>{orderDetails.user.phoneNumber}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <table style={{margin: \"30px 0px\"}}>\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>Products</th>\r\n                        <th>Quantity</th>\r\n                        <th>Price</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        orderDetails.cart.map(item =>{\r\n                            return(\r\n                        <tr key={item._id}>\r\n                            <td><img src={item.product.images.url} alt=\"\" /></td>\r\n                            <td>{item.product.title}</td>\r\n                            <td>{item.quantity}</td>\r\n                            <td>$ {item.product.price * item.quantity}</td>\r\n                        </tr>\r\n                        )})\r\n                    }\r\n                    \r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderDetails\r\n","import React from 'react';\r\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\r\n \r\nexport default class PaypalButton extends React.Component {\r\n    render() {\r\n        const onSuccess = (payment) => {\r\n            // Congratulation, it came here means everything's fine!\r\n            \t\tconsole.log(\"The payment was succeeded!\", payment);\r\n                    // You can bind the \"payment\" object's value to your state or props or whatever here, please see below for sample returned data\r\n                    this.props.tranSuccess(payment)\r\n        }\r\n \r\n        const onCancel = (data) => {\r\n            // User pressed \"cancel\" or close Paypal's popup!\r\n            console.log('The payment was cancelled!', data);\r\n            // You can bind the \"data\" object's value to your state or props or whatever here, please see below for sample returned data\r\n        }\r\n \r\n        const onError = (err) => {\r\n            // The main Paypal's script cannot be loaded or somethings block the loading of that script!\r\n            console.log(\"Error!\", err);\r\n            // Because the Paypal's main script is loaded asynchronously from \"https://www.paypalobjects.com/api/checkout.js\"\r\n            // => sometimes it may take about 0.5 second for everything to get set, or for the button to appear\r\n        }\r\n \r\n        let env = 'sandbox'; // you can set here to 'production' for production\r\n        let currency = 'USD'; // or you can set this value from your props or state\r\n        let total = this.props.total; // same as above, this is the total amount (based on currency) to be paid by using Paypal express checkout\r\n        // Document on Paypal's currency code: https://developer.paypal.com/docs/classic/api/currency_codes/\r\n \r\n        const client = {\r\n            sandbox:    'AVgm19Tbq8zGwHmhorx4z92gq6G36xGlQX0wn1_7EFMY7NOVBwASoJxkpS2O3kUArKwQBu3tcNL87me8',\r\n            production: 'YOUR-PRODUCTION-APP-ID',\r\n        }\r\n        // In order to get production's app-ID, you will have to send your app to Paypal for approval first\r\n        // For sandbox app-ID (after logging into your developer account, please locate the \"REST API apps\" section, click \"Create App\"):\r\n        //   => https://developer.paypal.com/docs/classic/lifecycle/sb_credentials/\r\n        // For production app-ID:\r\n        //   => https://developer.paypal.com/docs/classic/lifecycle/goingLive/\r\n \r\n        // NB. You can also have many Paypal express checkout buttons on page, just pass in the correct amount and they will work!\r\n        let style = {\r\n            size: 'small',\r\n            color: 'blue',\r\n            shape: 'rect',\r\n            label: 'checkout',\r\n            tagline: false\r\n        }\r\n\r\n        return (\r\n            <PaypalExpressBtn \r\n            env={env} client={client} \r\n            currency={currency} \r\n            total={total} onError={onError} \r\n            onSuccess={onSuccess} onCancel={onCancel}\r\n            style={style} />\r\n        );\r\n    }\r\n}","import React, {useContext, useState, useEffect} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport axios from 'axios'\r\nimport PaypalButton from './PaypalButton'\r\nimport { API_URL } from '../utils/config'\r\n\r\nfunction Cart() {\r\n    const state = useContext(GlobalState)\r\n    const [cart, setCart] = state.userAPI.cart\r\n    const [token] = state.token\r\n    const [total, setTotal] = useState(0)\r\n\r\n    useEffect(() =>{\r\n        const getTotal = () =>{\r\n            const total = cart.reduce((prev, item) => {\r\n                if(item.product){\r\n                    return prev + (item.product.price * item.quantity)\r\n                }else{\r\n                    return prev + (item.price * item.quantity)\r\n                }\r\n            },0)\r\n\r\n            setTotal(total)\r\n        }\r\n\r\n        getTotal()\r\n\r\n    },[cart])\r\n\r\n    const addToCart = async (cart) =>{\r\n        const bearerTk = 'Bearer '+token;\r\n        await axios.patch(`${API_URL}/user/addcart`, {cart}, {\r\n            headers: {Authorization: bearerTk}\r\n        })\r\n    }\r\n\r\n\r\n    const increment = (id) =>{\r\n        cart.forEach(item => {\r\n            console.log(item._id,id)\r\n            if(item._id == id){\r\n                item.quantity += 1\r\n            }\r\n        })\r\n        \r\n        setCart([...cart])\r\n        addToCart(cart)\r\n    }\r\n\r\n    const decrement = (id) =>{\r\n        cart.forEach(item => {\r\n            if(item._id == id){\r\n                item.quantity == 1 ? item.quantity = 1 : item.quantity -= 1\r\n            }\r\n        })\r\n\r\n        setCart([...cart])\r\n        addToCart(cart)\r\n    }\r\n\r\n    const removeProduct = id =>{\r\n        if(window.confirm(\"Do you want to delete this product?\")){\r\n            cart.forEach((item, index) => {\r\n                if(item._id == id){\r\n                    cart.splice(index, 1)\r\n                }\r\n            })\r\n\r\n            setCart([...cart])\r\n            addToCart(cart)\r\n        }\r\n    }\r\n\r\n    const tranSuccess = async(payment) => {\r\n        const {paymentID, address} = payment;\r\n\r\n        const bearerTk = 'Bearer '+token;\r\n        await axios.post(`${API_URL}api/payment`, {cart, paymentID, address}, {\r\n            headers: {Authorization: bearerTk}\r\n        })\r\n\r\n        setCart([])\r\n        addToCart([])\r\n        alert(\"You have successfully placed an order.\")\r\n    }\r\n\r\n\r\n    if(cart.length === 0) \r\n        return <h2 style={{textAlign: \"center\", fontSize: \"5rem\"}}>Cart Empty</h2> \r\n        console.log(cart)\r\n    return (\r\n        <div>\r\n            {\r\n                cart.map(product => (\r\n                    <div className=\"detail cart\">\r\n                        <img src={(product.product)?product.product.images.url:product.images.url} alt=\"\" />\r\n\r\n                        <div className=\"box-detail\">\r\n                            <h2>{(product.product)?product.product.title:product.title}</h2>\r\n\r\n                            <h3>$ {(product.product)?(product.product.price * product.quantity):(product.price * 1)}</h3>\r\n                            <p>{(product.product)?product.product.description:product.description}</p>\r\n                            <p>{(product.product)?product.product.content:product.content}</p>\r\n\r\n                            <div className=\"amount\">\r\n                                <button onClick={() => decrement(product._id)}> - </button>\r\n                                <span>{product.quantity}</span>\r\n                                <button onClick={() => increment(product._id)}> + </button>\r\n                            </div>\r\n                            \r\n                            <div className=\"delete\" \r\n                            onClick={() => removeProduct(product._id)}>\r\n                                X\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))\r\n            }\r\n\r\n            <div className=\"total\">\r\n                <h3>Total: $ {total}</h3>\r\n                <PaypalButton\r\n                total={total}\r\n                tranSuccess={tranSuccess} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cart","import React from 'react'\n\nfunction NotFound() {\n    return (\n        <div>\n            404 | Not Found\n        </div>\n    )\n}\n\nexport default NotFound\n","import React, {useState, useContext} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport axios from 'axios'\r\nimport { API_URL } from '../utils/config'\r\n\r\nfunction Categories() {\r\n    const state = useContext(GlobalState)\r\n    const [categories] = state.categoriesAPI.categories\r\n    const [category, setCategory] = useState('')\r\n    const [token] = state.token\r\n    const [callback, setCallback] = state.categoriesAPI.callback\r\n    const [onEdit, setOnEdit] = useState(false)\r\n    const [id, setID] = useState('')\r\n\r\n    const createCategory = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            if(onEdit){\r\n                const bearerTk = 'Bearer '+token;\r\n                const res = await axios.put(`${API_URL}/api/category/${id}`, {name: category}, {\r\n                    headers: {Authorization: bearerTk}\r\n                })\r\n                alert(res.data)\r\n            }else{\r\n                const bearerTk = 'Bearer '+token;\r\n                const res = await axios.post(`${API_URL}/api/category`, {name: category}, {\r\n                    headers: {Authorization: bearerTk}\r\n                })\r\n                alert(res.data)\r\n            }\r\n            setOnEdit(false)\r\n            setCategory('')\r\n            setCallback(!callback)\r\n            \r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const editCategory = async (id, name) =>{\r\n        setID(id)\r\n        setCategory(name)\r\n        setOnEdit(true)\r\n    }\r\n\r\n    const deleteCategory = async id =>{\r\n        try {\r\n            const bearerTk = 'Bearer '+token;\r\n            const res = await axios.delete(`${API_URL}/api/category/${id}`, {\r\n                headers: {Authorization: bearerTk}\r\n            })\r\n            alert(res.data.msg)\r\n            setCallback(!callback)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"categories\">\r\n            <form onSubmit={createCategory}>\r\n                <label htmlFor=\"category\">Category</label>\r\n                <input type=\"text\" name=\"category\" value={category} required\r\n                onChange={e => setCategory(e.target.value)} />\r\n\r\n                <button type=\"submit\">{onEdit? \"Update\" : \"Create\"}</button>\r\n            </form>\r\n\r\n            <div className=\"col\">\r\n                {\r\n                    categories.map(category => (\r\n                        <div className=\"row\" key={category._id}>\r\n                            <p>{category.name}</p>\r\n                            <div>\r\n                                <button onClick={() => editCategory(category._id, category.name)}>Edit</button>\r\n                                <button onClick={() => deleteCategory(category._id)}>Delete</button>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Categories\r\n","import React, {useState, useContext, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport Loading from '../utils/loading/Loading'\r\nimport {useHistory, useParams} from 'react-router-dom'\r\nimport { API_URL } from '../utils/config'\r\n\r\nconst initialState = {\r\n    product_id: '',\r\n    title: '',\r\n    price: 0,\r\n    description: 'Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.',\r\n    content: 'It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.',\r\n    category: '',\r\n    _id: ''\r\n}\r\n\r\nfunction CreateProduct() {\r\n    const state = useContext(GlobalState)\r\n    const [product, setProduct] = useState(initialState)\r\n    const [categories] = state.categoriesAPI.categories\r\n    const [images, setImages] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [token] = state.token\r\n\r\n    const history = useHistory()\r\n    const param = useParams()\r\n\r\n    const [products] = state.productsAPI.products\r\n    const [onEdit, setOnEdit] = useState(false)\r\n    const [callback, setCallback] = state.productsAPI.callback\r\n\r\n    useEffect(() => {\r\n        if(param.id){\r\n            setOnEdit(true)\r\n            products.forEach(product => {\r\n                if(product._id.toString() === param.id.toString()) {\r\n                    setProduct(product)\r\n                    setImages(product.images)\r\n                }\r\n            })\r\n        }else{\r\n            setOnEdit(false)\r\n            setProduct(initialState)\r\n            setImages(false)\r\n        }\r\n    }, [param.id, products])\r\n\r\n    const handleUpload = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            if(!isAdmin) return alert(\"You're not an admin\")\r\n            const file = e.target.files[0]\r\n            \r\n            if(!file) return alert(\"File not exist.\")\r\n\r\n            if(file.size > 1024 * 1024*5) // 1mb\r\n                return alert(\"Size too large!\")\r\n\r\n            if(file.type !== 'image/jpeg' && file.type !== 'image/png') // 1mb\r\n                return alert(\"File format is incorrect.\")\r\n\r\n            let formData = new FormData()\r\n            formData.append('image', file)\r\n\r\n            setLoading(true)\r\n            const bearerTk = 'Bearer '+token;\r\n            const res = await axios.post(`${API_URL}/api/upload`, formData, {\r\n                headers: {'content-type': 'multipart/form-data', Authorization: bearerTk}\r\n            })\r\n            setLoading(false)\r\n            setImages(res.data)\r\n\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const handleDestroy = async () => {\r\n        try {\r\n            if(!isAdmin) return alert(\"You're not an admin\")\r\n            setLoading(true)\r\n            const bearerTk = 'Bearer '+token;\r\n            await axios.post(`${API_URL}/api/destroy`, {public_id: images.public_id}, {\r\n                headers: {Authorization: bearerTk}\r\n            })\r\n            setLoading(false)\r\n            setImages(false)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const handleChangeInput = e =>{\r\n        const {name, value} = e.target\r\n        setProduct({...product, [name]:value})\r\n    }\r\n\r\n    const handleSubmit = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            if(!isAdmin) return alert(\"You're not an admin\")\r\n            if(!images) return alert(\"No Image Upload\")\r\n\r\n            if(onEdit){\r\n                const bearerTk = 'Bearer '+token;\r\n                await axios.put(`${API_URL}/api/products/${product._id}`, {...product, images}, {\r\n                    headers: {Authorization: bearerTk}\r\n                })\r\n            }else{\r\n                const bearerTk = 'Bearer '+token;\r\n                await axios.post(`${API_URL}/api/products`, {...product, images:images._id}, {\r\n                    headers: {Authorization: bearerTk}\r\n                })\r\n            }\r\n            setCallback(!callback)\r\n            history.push(\"/\")\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const styleUpload = {\r\n        display: images ? \"block\" : \"none\"\r\n    }\r\n    return (\r\n        <div className=\"create_product\">\r\n            <div className=\"upload\">\r\n                <input type=\"file\" name=\"file\" id=\"file_up\" onChange={handleUpload}/>\r\n                {\r\n                    loading ? <div id=\"file_img\"><Loading /></div>\r\n\r\n                    :<div id=\"file_img\" style={styleUpload}>\r\n                        <img src={images ? images.url : ''} alt=\"\"/>\r\n                        <span onClick={handleDestroy}>X</span>\r\n                    </div>\r\n                }\r\n                \r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"product_id\">Product ID</label>\r\n                    <input type=\"text\" name=\"product_id\" id=\"product_id\" required\r\n                    value={product.product_id} onChange={handleChangeInput} disabled={onEdit} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"title\">Title</label>\r\n                    <input type=\"text\" name=\"title\" id=\"title\" required\r\n                    value={product.title} onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"price\">Price</label>\r\n                    <input type=\"number\" name=\"price\" id=\"price\" required\r\n                    value={product.price} onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"description\">Description</label>\r\n                    <textarea type=\"text\" name=\"description\" id=\"description\" required\r\n                    value={product.description} rows=\"5\" onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"content\">Content</label>\r\n                    <textarea type=\"text\" name=\"content\" id=\"content\" required\r\n                    value={product.content} rows=\"7\" onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"categories\">Categories: </label>\r\n                    <select name=\"category\" value={product.category} onChange={handleChangeInput} >\r\n                        <option value=\"\">Please select a category</option>\r\n                        {\r\n                            categories.map(category => (\r\n                                <option value={category._id} key={category._id}>\r\n                                    {category.name}\r\n                                </option>\r\n                            ))\r\n                        }\r\n                    </select>\r\n                </div>\r\n\r\n                <button type=\"submit\">{onEdit? \"Update\" : \"Create\"}</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateProduct\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport axios from 'axios'\r\nimport { Link } from 'react-router-dom'\r\nimport { GlobalState } from '../../../GlobalState'\r\nimport { API_URL } from '../utils/config'\r\n\r\nconst UserDetail = props => {\r\n    const [user, setUser] = useState({\r\n    })\r\n    const state = useContext(GlobalState)\r\n    const [token] = state.token\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            const getUser = async () => {\r\n                try {\r\n                    const bearerTk = 'Bearer ' + token;\r\n                    const res = await axios.get(`${API_URL}/user/infor`, {\r\n                        headers: { Authorization: bearerTk }\r\n                    })\r\n                    setUser(res.data)\r\n\r\n                } catch (err) {\r\n                    alert(err)\r\n                }\r\n            }\r\n\r\n            getUser()\r\n\r\n        }\r\n    }, [token])\r\n\r\n    const onChangeInput = e => {\r\n        const { name, value } = e.target;\r\n        setUser({ ...user, [name]: value })\r\n    }\r\n\r\n    const updateSubmit = async e => {\r\n        e.preventDefault()\r\n        try {\r\n             const bearerTk = 'Bearer '+token;\r\n            await axios.put(`${API_URL}/user/update/${user._id}`, { name:user.name, phoneNumber:user.phoneNumber, email:user.email },{headers: {Authorization: bearerTk}})\r\n\r\n            localStorage.setItem('firstLogin', true)\r\n\r\n            alert(\"Your account is updated.\")\r\n            window.location.href = \"/\";\r\n        } catch (err) {\r\n            alert(err.response.data.message)\r\n        }\r\n    }\r\n\r\n        const changPasswordSubmit = async e => {\r\n\r\n        e.preventDefault()\r\n        try {\r\n             const bearerTk = 'Bearer '+token;\r\n            await axios.put(\r\n                `${API_URL}/user/password/${user._id}`, \r\n                { oldPassword:user.oldPassword, newPassword:user.newPassword, confirmPassword:user.confirmPassword },\r\n                {headers: {Authorization: bearerTk}}\r\n            )\r\n\r\n            localStorage.setItem('firstLogin', true)\r\n\r\n            alert(\"Your account is updated.\")\r\n            window.location.href = \"/\";\r\n        } catch (err) {\r\n            alert(err.response.data.message)\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"login-page\">\r\n            <form onSubmit={updateSubmit}>\r\n                <h2>Profile</h2>\r\n                <input type=\"text\" name=\"name\" required\r\n                    placeholder=\"Name\" value={user.name} onChange={onChangeInput} />\r\n\r\n                <input type=\"email\" name=\"email\" required\r\n                    placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\r\n\r\n                <input type=\"text\" name=\"phoneNumber\" required\r\n                    placeholder=\"phone number\" value={user.phoneNumber} onChange={onChangeInput} />\r\n\r\n\r\n                <div className=\"row\">\r\n                    <button type=\"submit\">Update</button>\r\n                </div>\r\n            </form>\r\n            <br></br>\r\n            <form onSubmit={changPasswordSubmit}>\r\n                <h2>Change Password</h2>\r\n                <input type=\"password\" name=\"oldPassword\" required autoComplete=\"on\"\r\n                    placeholder=\"Old Password\" value={user.oldPassword} onChange={onChangeInput} />\r\n\r\n                <input type=\"password\" name=\"newPassword\" required\r\n                    placeholder=\"New Password\" value={user.newPassword} onChange={onChangeInput} />\r\n\r\n                <input type=\"password\" name=\"confirmPassword\" required\r\n                    placeholder=\"Confirm Password\" value={user.confirmPassword} onChange={onChangeInput} />\r\n\r\n\r\n                <div className=\"row\">\r\n                    <button type=\"submit\">Change</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default UserDetail","import React, {useContext} from 'react'\nimport {Switch, Route} from 'react-router-dom'\nimport Products from './products/Products'\nimport DetailProduct from './detailProduct/DetailProduct'\nimport Login from './auth/Login'\nimport Register from './auth/Register'\nimport OrderHistory from './history/OrderHistory'\nimport OrderDetails from './history/OrderDetails'\nimport Cart from './cart/Cart'\nimport NotFound from './utils/not_found/NotFound'\nimport Categories from './categories/Categories'\nimport CreateProduct from './createProduct/CreateProduct'\n\nimport {GlobalState} from '../../GlobalState'\nimport UserDetail from './userDetail/UserDetail'\n\n\nfunction Pages() {\n    const state = useContext(GlobalState)\n    const [isLogged] = state.userAPI.isLogged\n    const [isAdmin] = state.userAPI.isAdmin\n\n\n    return (\n        <Switch>\n            <Route path=\"/\" exact component={Products} />\n            <Route path=\"/detail/:id\" exact component={DetailProduct} />\n\n            <Route path=\"/login\" exact component={isLogged ? NotFound : Login} />\n            <Route path=\"/register\" exact component={isLogged ? NotFound : Register} />\n\n            <Route path=\"/category\" exact component={isAdmin ? Categories : NotFound} />\n            <Route path=\"/create_product\" exact component={isAdmin ? CreateProduct : NotFound} />\n            <Route path=\"/edit_product/:id\" exact component={isAdmin ? CreateProduct : NotFound} />\n\n            <Route path=\"/history\" exact component={isLogged ? OrderHistory : NotFound} />\n            <Route path=\"/profile\" exact component={isLogged ? UserDetail : NotFound} />\n            <Route path=\"/history/:id\" exact component={isLogged ? OrderDetails : NotFound} />\n\n            <Route path=\"/cart\" exact component={Cart} />\n\n\n            <Route path=\"*\" exact component={NotFound} />\n        </Switch>\n    )\n}\n\nexport default Pages\n","import React from 'react';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport {DataProvider} from './GlobalState'\nimport Header from './components/headers/Header'\nimport MainPages from './components/mainpages/Pages'\nimport Footer from './components/footers/Footer';\nimport axios from 'axios'\n\n\nfunction App() {\n  axios.defaults.withCredentials=true;\n  axios.defaults.xsrfCookieName='refreshtoken'\n  return (\n    <DataProvider>\n      <Router>\n        <div className=\"App\">\n          <Header />\n          <MainPages />\n          {/* <Footer/> */}\n        </div>\n      </Router>\n    </DataProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}